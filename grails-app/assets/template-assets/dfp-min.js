(function(window,document,undefined){window.expads=window.expads||{};window.expads.updatedTargeting=window.expads.updatedTargeting||{};window.expads.configuration=window.expads.configuration||{};window.expads.configuration.slots=window.expads.configuration.slots||{};window.expads.adSenseContainers=window.expads.adSenseContainers||{};window.expads.renderedAds=window.expads.renderedAds||{};window.expads.adcalls=window.expads.adcalls||[];var dctkClientLoggingURL=window.expads.configuration.dctkClientLoggingURL,displaySlots={},errors=[],messages=[],firstPartySlots={},initialized=false,preinitialized=false,logger={drivers:{console:(function(window){var console=window.console;if(console!==undefined&&typeof(console.log)==="function"){return{log:function(msg){console.log(msg)}}}else{return null}})(window),dctk:{log:function(msg){var label="ExpAds";if(window.dctk!==undefined&&window.dctk.loggingAdapter!==undefined){msg=msg.join("&");window.dctk.loggingAdapter.logMessage(label,msg)}else{return false}}},dummy:(function(){var noop=function(){return false};return{log:noop}})()},registeredLoggers:{},registerLogger:function(name){var that=this,initializeLogger=function(driver){var loaddriver=function(driver){return{log:function(msg){if(typeof(driver.log)==="function"){return driver.log(msg)}else{return false}}}};if(driver!==undefined){return loaddriver(driver)}else{return loaddriver(that.drivers.dummy)}};that.registeredLoggers[name]=initializeLogger(that.drivers[name])},deregisterLogger:function(name){var loggers=this.registeredLoggers;if(loggers.hasOwnProperty(name)){delete this.registeredLoggers[name]}},log:function(msg){var loggers=this.registeredLoggers;for(var name in loggers){if(loggers.hasOwnProperty(name)){loggers[name].log(msg)}}}},loggingEnabled=(function(w){var max=5,min=1,randomNumber=Math.floor(Math.random()*(max-min+1))+min;if(w.location.search.indexOf("adsClientLoggingEnabled=true")>-1){return true}return w.expads.configuration.loggingEnabled&&(randomNumber===min)})(window),analytics=(function(w){var expads=w.expads||{},beacons=[],reportedErrors=[],intervalId,maxAttempts=3,attemptNumber=1,dataDomains=["www.expedia.com","www.expedia.co.uk","www.expedia.ca","www.expedia.de","www.expedia.it","www.expedia.es","www.expedia.nl","www.expedia.mx","www.expedia.com.sg","www.expedia.com.my","www.expedia.co.kr","www.expedia.co.th","www.expedia.com.hk","www.expedia.fr","www.expedia.com.au","www.expedia.co.in","www.expedia.co.jp","www.expedia.co.nz","www.expedia.co.id","www.expedia.com.tw","www.expedia.ie","www.expedia.be","www.expedia.se","www.expedia.no","www.expedia.dk","www.expedia.com.ph","www.expedia.com.br","www.expedia.com.ar","www.expedia.com.vn","www.expedia.fi","www.expedia.at","expedia.viaggi.virgilio.it","expedia.viaggi.tiscali.it","expedia.corriere.it","expedia.viaggi.deejay.it","expedia.allmusic.tv","voyages.anyway.com","yahoo.expedia.com.au","ninemsn.expedia.com.au","jal.expedia.co.jp","msn.expedia.co.jp","expedia-aarp.com","voyage-sncf.com","expediafortd.com","vacation.hotwire.com"],isProdDomain=function(domain,domains){var i,max;for(i=0,max=domains.length;i<max;i++){if(domain===domains[i]){return true}}return false};expads.slots=expads.slots||{};expads.configuration=expads.configuration||{};expads.renderedAds=expads.renderedAds||{};expads.adcalls=expads.adcalls||[];var config={enabled:expads.configuration.loggingEnabled||false,messageBeaconUrl:expads.configuration.clientLoggingMessageBeaconUrl||"",perfBeaconUrl:expads.configuration.clientLoggingPerfBeaconUrl||"",fixedParams:function(){var logging=w.dctk&&w.dctk.logging||{};return"?browser="+logging.browser+"&browserVersion="+logging.version+"&platform="+logging.OS+"&domain="+config.domain+"&live="+config.isProd+"&pageName="+config.pageName+"&logKey="+config.logKey+config.dataParams},domain:w.location.hostname,isProd:isProdDomain(w.location.hostname,dataDomains),logKey:expads.configuration.dctkLogKey||"",dataParams:expads.configuration.dctkData||"",guid:expads.configuration.guid||"",pageName:"undefined"};if(config.logKey.indexOf("%7C")!=-1){config.pageName=config.logKey.split("%7C")[0]}else{if(config.logKey.indexOf("|")!=-1){config.pageName=config.logKey.split("|")[0]}}config.pageName+="_ads";var sendPageAnalytics=function(){var adCall=expads.adcalls[expads.adcalls.length-1],averageTimePerAd=0,numberOfAdsRequested=adCall.adsRequested.length,numberOfAdsLoaded=adCall.adsLoaded.length;if(numberOfAdsRequested>0){averageTimePerAd=adCall.elapsedTime/numberOfAdsRequested}logTrxEvent(adCall.elapsedTime,"clEventName01=numberOfAdsRequested&clEventTime01="+numberOfAdsRequested+"&clEventName02=numberOfAdsReturned&clEventTime02="+numberOfAdsLoaded+"&clEventName03=averageLatencyPerAd&clEventTime03="+averageTimePerAd+"&clEventName04=adCallNumber&clEventTime04="+expads.adcalls.length)};var logTrxEvent=function(elapsedTime,additionalData){var params=["navTiming_elapsedTime="+elapsedTime];if(additionalData!==undefined&&additionalData.length>0){params=params.concat(additionalData)}sendParams(params)};var logMessage=function(label,elapsedTime,additionalData){var params=["label="+label,label+"_elapsedTime="+elapsedTime],errorMsg;if(additionalData!==undefined&&additionalData.length>0){params=params.concat(additionalData)}if(label==="windowOnError"){errorMsg=additionalData[0];if(!(errorMsg in reportedErrors)){reportedErrors[errorMsg]={count:0};sendMessage(params)}reportedErrors[errorMsg].count=parseInt(reportedErrors[errorMsg].count,10)+1;if(reportedErrors[errorMsg].count===100){sendMessage(params.concat("exceedsErrorThreshold=true"))}}else{sendMessage(params)}};var sendParams=function(params){if(loggingEnabled){var beacon=new Image();beacon.src=config.perfBeaconUrl+config.fixedParams()+"&guid="+config.guid+"&logTime="+expGetISODateString(new Date())+"&action=logTrxEvent&"+params.join("&");beacons.push(beacon)}};var sendMessage=function(params){if(loggingEnabled){var beacon=new Image();beacon.src=config.messageBeaconUrl+config.fixedParams()+"&guid="+config.guid+"&logTime="+expGetISODateString(new Date())+"&action=logErrors&"+params.join("&");beacons.push(beacon)}};var expGetISODateString=function(date){if(date.toISOString){return date.toISOString()}else{return date.getFullYear().toString()+"-"+date.getMonth()+"-"+date.getDate()+"T"+date.getHours()+":"+date.getMinutes()+":"+date.getSeconds()}};var callbackForAdMetrics=function(){var adCall=expads.adcalls[expads.adcalls.length-1];var adsRequested=adCall.adsRequested;var adsLoaded=[];var adsNotLoaded=[];var adsOutstanding;var frame,frameDocument,i,id,element;for(i=0;i<adsRequested.length;i++){id=adCall.adsRequested[i];element=document.getElementById(id);if(element!==null){if(element.style.display==="none"){adsNotLoaded.push(id)}else{frame=element.getElementsByTagName("iframe")[0];if(frame!==undefined){frameDocument=frame.contentDocument||frame.contentWindow.document;if(frameDocument.body.innerHTML.length>0){adsLoaded.push(id)}}}}}adsOutstanding=adsRequested.length-(adsNotLoaded.length+adsLoaded.length);if(adsOutstanding===0||attemptNumber>=maxAttempts){if(intervalId!==undefined){w.clearInterval(intervalId);intervalId=undefined}attemptNumber=1;adCall.adsLoaded=adsLoaded;adCall.adsNotLoaded=adsNotLoaded;sendPageAnalytics()}else{attemptNumber++}};return{run:function(adWindow){adWindow=adWindow||{};var startTime=new Date(),oldOnLoad=adWindow.onload,oldOnError=adWindow.onerror,adconfig=adWindow.adconfig||{},name=adWindow.name;var storeAdAnalyticsOnPageLoad=function(){var oldReturnValue=typeof(oldOnLoad)==="function"?oldOnLoad():false,elapsedTime=new Date().getTime()-startTime.getTime(),renderedAd;if(adWindow.document.body.innerHTML.length>0){renderedAd=w.expads.renderedAds[name]||{};renderedAd.name=name;renderedAd.adUnitId=adconfig.adUnitId;renderedAd.orderId=adconfig.orderId;renderedAd.lineItemId=adconfig.lineItemId;renderedAd.creativeId=adconfig.creativeId;renderedAd.elapsedTime=elapsedTime;renderedAd.requestTime=startTime;renderedAd.ip=adconfig.ip;renderedAd.custtype=adconfig.custtype;renderedAd.pref=adconfig.pref;renderedAd.ets=adconfig.ets;renderedAd.ete=adconfig.ete;renderedAd.regionid=adconfig.regionid;renderedAd.numadults=adconfig.numadults;renderedAd.kid=adconfig.kid;renderedAd.sr=adconfig.sr;renderedAd.ac=adconfig.ac;w.expads.renderedAds[name]=renderedAd}return oldReturnValue};var handleErrors=function(msg,url,line){var renderedAd=w.expads.renderedAds[name]||{};renderedAd.errorMsg=msg;renderedAd.errorLine=line;renderedAd.errorUrl=url;renderedAd.error=true;w.expads.renderedAds[name]=renderedAd;var message="onErrorMsg="+msg+"&onErrorUrl="+url+"&onErrorLine="+line+"&orderId="+(adconfig.orderId||"")+"&lineItemId="+(adconfig.lineItemId||"")+"&creativeId="+(adconfig.creativeId||"")+"&adUnitId="+(adconfig.adUnitId||"");logMessage("ExpAds",new Date().getTime()-startTime,encodeURI(message));if(typeof oldOnError==="function"){oldOnError(msg,url,line)}return false};adWindow.onload=storeAdAnalyticsOnPageLoad;adWindow.onerror=handleErrors},getNumberOfAdsLoaded:function(){var id,count=0,element;for(id in expads.slots){if(expads.slots.hasOwnProperty(id)){element=document.getElementById(id);if(element!==null&&element.children!==undefined&&element.children.length>1){count++}}}return count},getNumberOfAdsNotLoaded:function(){return this.getNumberOfExpectedAds()-this.getNumberOfAdsLoaded()},getNumberOfExpectedAds:function(){return numberOfExpectedAds},recordAdCall:function(name,adsRequested,elapsedTime){var averageLatencyPerAd=0,adCall,delay=1000;if(adsRequested!==undefined&&adsRequested.length>0){averageLatencyPerAd=elapsedTime/adsRequested.length}adCall={name:name,adsRequested:adsRequested,elapsedTime:elapsedTime,requestTime:new Date(),adsLoaded:[],adsNotLoaded:[]};expads.adcalls.push(adCall);if(intervalId!==undefined){w.clearInterval(intervalId)}attemptNumber=1;intervalId=w.setInterval(callbackForAdMetrics,delay)}}})(window),clear=function(container){if(container!==undefined){container.removeAttribute("data-loaded")}},defineFirstPartySlots=function(allSlots){if(allSlots!==undefined){var id,slotConfig,url;for(id in allSlots){if(allSlots.hasOwnProperty(id)){slotConfig=allSlots[id];if(slotConfig!==undefined&&slotConfig.url!==undefined&&slotConfig.location!==undefined&&slotConfig.sublocation!==undefined&&slotConfig.placement!==undefined){url=slotConfig.url+"location="+slotConfig.location+"&sublocation="+slotConfig.sublocation+"&placement="+slotConfig.placement;firstPartySlots[id]=url}}}}},defineSlots=function(slotsToDefine){var id,currentSlotToDefine,legacyOrCurrentId,googleSlot;if(slotsToDefine!==undefined&&window.googletag!==undefined&&typeof(window.googletag.defineSlot)==="function"&&typeof(window.googletag.pubads)==="function"){for(id in slotsToDefine){if(slotsToDefine.hasOwnProperty(id)){currentSlotToDefine=slotsToDefine[id];if(currentSlotToDefine!==undefined&&currentSlotToDefine.path!==undefined&&currentSlotToDefine.width!==undefined&&currentSlotToDefine.height!==undefined){legacyOrCurrentId=(currentSlotToDefine.legacyId!==undefined)?currentSlotToDefine.legacyId:id;googleSlot=window.googletag.defineSlot(currentSlotToDefine.path,[parseInt(currentSlotToDefine.width,10),parseInt(currentSlotToDefine.height,10)],legacyOrCurrentId).addService(window.googletag.pubads());displaySlots[legacyOrCurrentId]=googleSlot}}}}},enableGpt=function(){if(window.googletag!==undefined&&typeof(window.googletag.pubads)==="function"&&typeof(window.googletag.enableServices)==="function"){window.googletag.pubads().collapseEmptyDivs();window.googletag.pubads().disableInitialLoad();window.googletag.pubads().enableSingleRequest();window.googletag.enableServices()}},flushMessages=function(messages){if(messages.length>0){if(logger.registeredLoggers.dctk){if(window.dctk!==undefined&&window.dctk.loggingAdapter!==undefined){logger.log(messages);messages.length=0}}else{logger.log(messages);messages.length=0}}},getScript=function(window,url,success,error){var httpRequest;if(window.XMLHttpRequest!==undefined){httpRequest=new XMLHttpRequest()}else{if(window.ActiveXObject!==undefined){try{httpRequest=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{httpRequest=new ActiveXObject("Microsoft.XMLHTTP")}catch(ex){}}}}if(httpRequest===undefined){return false}var evalResult=function(){if(httpRequest.readyState===4){if(httpRequest.status===200){if(success!==undefined){success(httpRequest)}}else{if(error!==undefined){error(httpRequest)}}}};var addCacheBuster=function(url){var cacheBuster=Math.floor(Math.random()*Math.pow(10,13));if(url.indexOf("?")>-1){url+="&_="+cacheBuster}else{url+="?_="+cacheBuster}return url};url=addCacheBuster(url);try{httpRequest.onreadystatechange=evalResult;httpRequest.open("GET",encodeURI(url));httpRequest.send()}catch(e){}},initializeMediaQueries=function(){var i,standardMediaQueries,customMediaQueries;if(window.uitk!==undefined&&typeof window.uitk.subscribe==="function"){window.uitk.subscribe("mediaquery.matched",window.expads,window.expads.ensureVisibleAdsAreLoaded)}else{if(typeof window.matchMedia==="function"){standardMediaQueries=["(min-width: 960px)","(min-width: 726px) and (max-width: 959px)","(max-width: 725px)"];for(i=0;i<standardMediaQueries.length;i++){registerMatchMediaQuery(standardMediaQueries[i])}try{customMediaQueries=window.expads.configuration.mediaQueries||[];if(Array.isArray(customMediaQueries)){for(i=0;i<customMediaQueries.length;i++){registerMatchMediaQuery(customMediaQueries[i])}}}catch(e){console.log("Custom media queries not supported: "+e.name+" : "+e.message)}}}},initializePostGpt=function(){var id;defineFirstPartySlots(window.expads.slots);for(id in displaySlots){window.expads.displayAdSlot(id)}initializeMediaQueries();window.expads.ensureVisibleAdsAreLoaded();window.expads.logMessages()},isArray=function(o){return Object.prototype.toString.call(o)==="[object Array]"},isLoaded=function(container){return container!==null&&container.getAttribute("data-loaded")==="true"},isVisible=function(container){return container!==null&&container.style.display!=="none"&&container.style.visibility!=="hidden"&&(container.offsetWidth!==0||container.offsetHeight!==0)},isForceLoad=function(container){return container!==null&&container.getAttribute("data-force-load")==="true"},loadDctkIfNotExist=function(window){var successHandler=function(httpRequest){var createLoggingObj=(function(configuration){return{enabled:configuration.loggingEnabled,pageStartTime:new Date().getTime(),beaconServerUrl:configuration.dctkBeaconServerUrl,logKey:configuration.dctkLogKey,guid:configuration.guid,data:configuration.dctkData}})(window.expads.configuration);window.dctk={};window.dctk.logging=createLoggingObj;window.eval(httpRequest.responseText);window.expads.logErrorsAndMessages()};if(dctkClientLoggingURL!==undefined&&dctkClientLoggingURL.length>0){getScript(window,dctkClientLoggingURL,successHandler)}},matchMediaListener=function(mql){if(mql.matches===true){window.expads.ensureVisibleAdsAreLoaded()}},registerMatchMediaQuery=function(mediaQuery){var mql=window.matchMedia(mediaQuery);if(mql!==undefined&&typeof mql.addListener==="function"){mql.addListener(matchMediaListener)}},retrieveFirstPartyContent=function(container,url){var resize=(container.getAttribute("data-resize")==="true"),iframeText='<iframe scrolling="no" frameBorder="0" marginHeight="0" marginWidth="0" allowTransparency="true" style="border:none; overflow:hidden; width:'+container.style.width+"; height:"+container.style.height+';" src="'+url+'"';if(resize){iframeText+=" onload=\"expads.resize('"+container.id+"');\""}iframeText+="></iframe>";container.innerHTML=iframeText;container.setAttribute("data-loaded","true")},setPageTargeting=function(){var customTargetingName;if(window.expads.targeting!==undefined&&window.googletag!==undefined&&typeof(window.googletag.pubads)==="function"){for(customTargetingName in window.expads.targeting){if(window.expads.updatedTargeting===undefined||!(customTargetingName in window.expads.updatedTargeting)){setTargetingValue(window.googletag.pubads(),customTargetingName,window.expads.targeting[customTargetingName])}}}},setSlotTargeting=function(slotConfig,slot){var customTargetingName;if(window.expads.updatedTargeting!==undefined||(slotConfig!==undefined&&slotConfig.slotTargeting)){slot.clearTargeting();if(window.expads.updatedTargeting!==undefined){for(customTargetingName in window.expads.updatedTargeting){setTargetingValue(slot,customTargetingName,window.expads.updatedTargeting[customTargetingName])}}if(slotConfig!==undefined&&slotConfig.slotTargeting!==undefined){for(customTargetingName in slotConfig.slotTargeting){setTargetingValue(slot,customTargetingName,slotConfig.slotTargeting[customTargetingName])}}}},setTargetingValue=function(targetObject,customTargetingName,customTargetingValue){var i,stringArray;if(targetObject!==undefined&&customTargetingName!==undefined&&customTargetingValue!==undefined){if(isArray(customTargetingValue)){stringArray=[];for(i=0;i<customTargetingValue.length;i++){stringArray.push(String(customTargetingValue[i]))}targetObject.setTargeting(customTargetingName,stringArray)}else{if(customTargetingValue===true){targetObject.setTargeting(customTargetingName,"1")}else{if(customTargetingValue===false){targetObject.setTargeting(customTargetingName,"0")}else{targetObject.setTargeting(customTargetingName,String(customTargetingValue))}}}}},updateGoogleCorrelator=function(){window.googletag.pubads().updateCorrelator()};window.expads.ensureVisibleAdsAreLoaded=function(){var id,container,visible=[],startTime,requestedAds=[],adNumber=0,elapsedTime;try{for(id in displaySlots){try{container=document.getElementById(id);var slot=displaySlots[id],conf=window.expads.slots[id];if(!isLoaded(container)&&(isVisible(container)||isForceLoad(container))){container.setAttribute("data-loaded","true");setSlotTargeting(conf,slot);visible.push(slot);requestedAds.push(id)}}catch(e){window.expads.addErrorMsg("adAction=pushVisible&adId="+id+"&adErrorMsg="+e.message)}}if(visible.length>0){try{startTime=new Date().getTime();window.googletag.pubads().addEventListener("slotRenderEnded",function(event){try{elapsedTime=new Date().getTime()-startTime;adNumber++;if(requestedAds.length===adNumber){analytics.recordAdCall("DFP",requestedAds,elapsedTime)}if(event!==undefined&&event.slot!==undefined&&event.slot.getSlotId()!==undefined&&event.slot.getSlotId().getDomId()!==undefined&&event.isEmpty!==undefined){var ad=document.getElementById(event.slot.getSlotId().getDomId());if(ad!==null){ad.className=ad.className.replace(/(?:^|\s)expanded(?!\S)/g,"");ad.className=ad.className.replace(/(?:^|\s)collapsed(?!\S)/g,"");ad.className+=(event.isEmpty)?" collapsed":" expanded"}}}catch(err){window.expads.addErrorMsg("adAction=googletag.slotRenderEnded&adErrorMsg="+err.message)}});window.googletag.pubads().refresh(visible,{changeCorrelator:false})}catch(e){window.expads.addErrorMsg("adAction=googletag.pubads().refresh()&adErrorMsg="+e.message)}}for(id in firstPartySlots){try{container=document.getElementById(id);if(!isLoaded(container)&&(isVisible(container)||isForceLoad(container))){retrieveFirstPartyContent(container,firstPartySlots[id])}}catch(e){window.expads.addErrorMsg("adAction=retrieveFirstPartyContent&adId="+id+"&adErrorMsg="+e.message)}}for(id in window.expads.adSenseContainers){try{container=document.getElementById(id);if(!isLoaded(container)&&(isVisible(container)||isForceLoad(container))){var callback=window.expads.adSenseContainers[id];callback(id);container.setAttribute("data-loaded","true")}}catch(e){window.expads.addErrorMsg("adAction=loadAdSenseSlots&adId="+id+"&adErrorMsg="+e.message)}}}catch(e){window.expads.addErrorMsg("adAction=ensureVisibleAdsAreLoaded&adErrorMsg"+e.message)}window.expads.logErrorsAndMessages()};window.expads.preinitialize=function(targeting){if(typeof(targeting)==="object"){window.expads.updatedTargeting=targeting}defineSlots(window.expads.configuration.slots);setPageTargeting();enableGpt();preinitialized=true};window.expads.refreshAdSlot=function(id){var adSlot=displaySlots[id],adSlotConfig=window.expads.slots[id],container=document.getElementById(id);if(adSlot!==undefined&&adSlotConfig!==undefined&&container!==null){container.setAttribute("data-loaded","true");setSlotTargeting(adSlotConfig,adSlot);window.googletag.pubads().refresh([adSlot],{changeCorrelator:false})}};window.expads.displayAdSlot=function(id){var container=document.getElementById(id);if(container!==null&&container.getAttribute("data-displayed")!==true&&window.googletag!==undefined&&typeof(window.googletag.display)==="function"){window.googletag.display(id);container.setAttribute("data-displayed",true)}};window.expads.registerCallbackForAdSlot=function(id,callback){var adSlot=displaySlots[id];if(adSlot!==undefined){window.googletag.pubads().addEventListener("slotRenderEnded",function(e){if(e.slot===adSlot){callback()}})}};window.expads.initialize=function(targeting){if(initialized===true){window.expads.addMsg("adAction=initialize&adMessage=Duplicate call to initialize on page.");window.expads.refresh(targeting)}else{if(typeof targeting==="object"){window.expads.updatedTargeting=targeting}if(window.expads.slots!==undefined){window.googletag=window.googletag||{};window.googletag.cmd=window.googletag.cmd||[];if(preinitialized!==true){(function(){var gads=document.createElement("script");gads.async=true;gads.type="text/javascript";gads.src=("https:"==document.location.protocol?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js";document.getElementsByTagName("head")[0].appendChild(gads)})();window.googletag.cmd.push(function(){defineSlots(window.expads.slots);setPageTargeting();enableGpt();initializePostGpt()})}else{initializePostGpt()}initialized=true}}};window.expads.refresh=function(targeting){try{var id,container;if(typeof targeting==="object"){window.expads.updatedTargeting=targeting}for(id in displaySlots){container=document.getElementById(id);if(isLoaded(container)){clear(container)}}for(id in firstPartySlots){container=document.getElementById(id);if(isLoaded(container)){clear(container)}}if(typeof window.expAdsCsa==="object"&&window.expAdsCsa.shouldRefresh()){for(id in window.expads.adSenseContainers){container=document.getElementById(id);if(isLoaded(container)){clear(container)}}}updateGoogleCorrelator();window.expads.ensureVisibleAdsAreLoaded()}catch(e){window.expads.addErrorMsg("adAction=refreshAds&adErrorMsg="+e.message)}};window.expads.resize=function(id){try{var ad=document.getElementById(id);if(isLoaded(ad)){var frame=ad.getElementsByTagName("iframe")[0],frameDocument=frame.contentDocument||frame.contentWindow.document,dimension="Height",scroll="scroll"+dimension,offset="offset"+dimension,height=Math.max(frameDocument.body[scroll],frameDocument.documentElement[scroll],frameDocument.body[offset],frameDocument.documentElement[offset],frameDocument.documentElement["client"+dimension]);ad.style.height=height+"px";frame.style.height=height+"px"}}catch(e){}};window.expads.logErrors=function(){flushMessages(errors)};window.expads.logMessages=function(){flushMessages(messages)};window.expads.logErrorsAndMessages=function(){if(window.expads.logErrors!==undefined&&typeof(window.expads.logErrors)==="function"){window.expads.logErrors()}if(window.expads.logMessages!==undefined&&typeof(window.expads.logMessages)==="function"){window.expads.logMessages()}};window.expads.addErrorMsg=function(msg){errors.push(msg)};window.expads.addMsg=function(msg){messages.push(msg)};window.expads.callbackForAds=(function(){return{run:function(window){try{analytics.run(window)}catch(e){logger.log("onErrorMsg="+msg+"&onErrorUrl="+url+"&onErrorLine="+line)}}}})();if(loggingEnabled){loadDctkIfNotExist(window);logger.registerLogger("console");logger.registerLogger("dctk")}if(typeof(window.define)==="function"&&window.define.amd!==undefined){window.define("expads",[],function(){return window.expads})}window.expads.loaded=true})(window,window.document);